<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        // LISTE DES INDICATEURS : https://donnees.banquemondiale.org/indicateur (il faut choisir l'indicateur puis regarder dans l'URL)

        fetch('http://api.worldbank.org/v2/country/fr/indicator/SP.POP.TOTL?format=json&per_page=1')
  .then(response => response.json())
  .then(data => {
    if (data[1]) {
      const latestData = data[1][0];
      console.log(`La dernière donnée disponible pour la population totale de la France est ${latestData.value} en ${latestData.date}.`);
    } else {
      console.log('Aucune donnée disponible.');
    }
  });
  fetch('http://api.worldbank.org/v2/country/fr/indicator/NY.GDP.MKTP.CD?format=json&per_page=1')
  .then(response => response.json())
  .then(data => {
    if (data[1]) {
      const latestData = data[1][0];
      console.log(`La dernière donnée disponible pour le PIB de la France est ${latestData.value} en ${latestData.date}.`);
    } else {
      console.log('Aucune donnée disponible.');
    }
  });
  fetch('http://api.worldbank.org/v2/country/fr/indicator/EN.ATM.CO2E.KT?format=json&per_page=1')
  .then(response => response.json())
  .then(data => {
    if (data[1]) {
      const latestData = data[1][0];
      console.log(`La dernière donnée disponible pour les émissions de CO2 de la France est ${latestData.value} kilotonnes en ${latestData.date}.`);
    } else {
      console.log('Aucune donnée disponible.');
    }
  });
  /*fetch('http://api.worldbank.org/v2/country/fr/indicators/SP.POP.TOTL;NY.GDP.MKTP.CD?format=json&per_page=1')
  .then(response => response.json())
  .then(data => {
    if (data[1]) {
      const latestPopulationData = data[1].find(d => d.indicator.id === 'SP.POP.TOTL');
      const latestGDPData = data[1].find(d => d.indicator.id === 'NY.GDP.MKTP.CD');
      console.log(`La dernière donnée disponible pour la population totale de la France est ${latestPopulationData.value} en ${latestPopulationData.date}.`);
      console.log(`La dernière donnée disponible pour le PIB de la France est ${latestGDPData.value} en ${latestGDPData.date}.`);
    } else {
      console.log('Aucune donnée disponible.');
    }
  });*/
    </script>
</body>
</html>
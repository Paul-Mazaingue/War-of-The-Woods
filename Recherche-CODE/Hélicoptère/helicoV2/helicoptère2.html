<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css"/>
    <script src="./js/particles.js"></script>
    <script src="./js/helicoptere2.js"></script>
    <script src="./js/camera2.js"></script>
    <script src="./js/zone2.js"></script>
    
</head>
<body>
    <div id="game-container">
        <img id="map" style="width:6000px;height:3357px;" src="img/map.jpeg">
        <div id="helico-container">
        </div>
        <div id="zone"> 
        </div>
        
    </div>
    <script>


        const zone1_titre = "Zone 1";
        const zone1_description = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque consequat libero et nisl fringilla, nec volutpat tortor fermentum.";
        const zone1_img = "img/preview.png";
        const zone1_url = "https://www.google.fr";

        const zone2_titre = "Zone 2";
        const zone2_description = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque consequat libero et nisl fringilla, nec volutpat tortor fermentum.";
        const zone2_img = "img/preview.png";
        const zone2_url = "https://www.youtube.com/watch?v=dQw4w9WgXcQ";

        let zone1 = new Zone(1, 1200, 1300, 100, 100, zone1_titre, zone1_description, zone1_img, zone1_url);
        let zone2 = new Zone(2, 2000, 1300, 100, 100, zone2_titre, zone2_description, zone2_img, zone2_url);

        let zones = [zone1, zone2];

        helicoptere_img = "img/helico.gif";
        helicoptere_width = 100;
        helicoptere_height = 100;
        let helicoptere = new Helicoptere(1200, 900, 10,zones,helicoptere_img,helicoptere_width,helicoptere_height);


        // Récupération des élément html
        const gameContainer = document.getElementById('game-container');
        const helicoContainer = document.getElementById('helico-container');
        const helico = document.getElementById('helico');
        const redSquare = document.getElementById('zone1');
        const zone0 = document.getElementById('zone-0');

        // Taille de la map
        const mapWidth = 6000;
        const mapHeight = 3357;


        
        redSquare.style.left = helicoptere.zonex + 'px';
        redSquare.style.top = helicoptere.zoney + 'px';
        
        // Paramètre des particules 
        const wind_widht = "2px";
        const wind_height = "5px";




        // On regarde si une touche est enfoncée
        document.addEventListener('keydown', event => {
            helicoptere.keyState[event.key] = true;
        });
        document.addEventListener('keyup', event => {
            helicoptere.keyState[event.key] = false;
        });

        // Gestions de l'atterissage et du décollage
        document.addEventListener('keydown', async event => {
            if (event.key === ' ' && !helicoptere.isLanded && !helicoptere.isAnimating) {
                helicoptere.isLanded = true;
                helicoptere.canControl = false;
                helicoptere.isAnimating = true;
                // Faire atterrir l'hélico
                await helicoptere.landHelico();
                helico.src = "img/helico-static.png";
                helicoptere.canControl = true;
                helicoptere.isAnimating = false;
            } else if (event.key === ' ' && helicoptere.isLanded && helicoptere.canControl && !helicoptere.isAnimating) {
                helicoptere.isLanded = false;
                // Faire décoller l'hélico
                helicoptere.canControl = false;
                helicoptere.isAnimating = true;
                helico.src = "img/helico.gif";
                await helicoptere.takeOffHelico();
                helicoptere.canControl = true;
                helicoptere.isAnimating = false;
                helicoptere.moveHelico();
            }
        });

        

        // Gestion des déplacements
        helicoptere.moveHelico();
</script>
</body>
</html> 
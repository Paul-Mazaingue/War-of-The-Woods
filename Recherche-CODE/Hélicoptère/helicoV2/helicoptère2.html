<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css"/>
    <script src="./js/particles2.js"></script>
    <script src="./js/helicoptere2.js"></script>
    <script src="./js/camera2.js"></script>
    <script src="./js/zone2.js"></script>
    
</head>
<body>
    <div id="game-container">
        <div id="helico-container">
        </div>
        <div id="zone"> 
        </div>
        
    </div>
    <script>

        // Taille de la map
        const mapWidth = 6000;
        const mapHeight = 3357;
        const mapImg = "img/map.jpeg";

        createMap(mapImg, mapWidth, mapHeight);


        const zone1_titre = "Zone 1";
        const zone1_description = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque consequat libero et nisl fringilla, nec volutpat tortor fermentum.";
        const zone1_img = "img/preview.png";
        const zone1_url = "https://www.google.fr";

        const zone2_titre = "Zone 2";
        const zone2_description = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque consequat libero et nisl fringilla, nec volutpat tortor fermentum.";
        const zone2_img = "img/preview.png";
        const zone2_url = "https://www.youtube.com/watch?v=dQw4w9WgXcQ";

        let zone1 = new Zone(1, 1200, 1300, 100, 100, zone1_titre, zone1_description, zone1_img, zone1_url);
        let zone2 = new Zone(2, 2000, 1300, 100, 100, zone2_titre, zone2_description, zone2_img, zone2_url);

        let zones = [zone1, zone2];

        helicoptere_img = "img/helico.gif";
        helicoptere_img_static = "img/helico-static.png";
        helicoptere_width = 100;
        helicoptere_height = 100;
        let helicoptere = new Helicoptere(1200, 900, 10,zones,helicoptere_img,helicoptere_img_static,helicoptere_width,helicoptere_height);

        

        


        
        
        // Paramètre des particules 
        const wind_widht = "2px";
        const wind_height = "5px";




        // On regarde si une touche est enfoncée
        document.addEventListener('keydown', event => {
            helicoptere.keyState[event.key] = true;
        });
        document.addEventListener('keyup', event => {
            helicoptere.keyState[event.key] = false;
        });

        // Gestions de l'atterissage et du décollage
        document.addEventListener('keydown', async event => {

            if (event.key === ' ' && !helicoptere.isAnimating) {
                helicoptere.isLanded = !helicoptere.isLanded;
                helicoptere.canControl = false;
                helicoptere.isAnimating = true;
                if(helicoptere.isLanded) {
                    await helicoptere.landHelico();
                    helicoptere.helico.src = helicoptere.static_img;
                }
                else  {
                    helicoptere.helico.src = helicoptere.img;
                    await helicoptere.takeOffHelico();
                    
                }
                helicoptere.canControl = true;
                helicoptere.isAnimating = false;
                
                helicoptere.moveHelico();
            }
        });

        function createMap(img, width, height) {
            let Container = document.getElementById("game-container");

            // Créez un nouvel élément div pour la map
            let map = document.createElement("img");

            // Ajoutez l'id "map" à l'élément div de la map
            map.id = "map";
            map.src = img
            map.style.width = width + "px";
            map.style.height = height + "px";

            // Ajoutez la map à l'élément "helico-container"
            Container.appendChild(map);
        }

        // Gestion des déplacements
        helicoptere.moveHelico();
</script>
</body>
</html> 